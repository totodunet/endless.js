/* jQuery Plugin Endless.js v2.1.0 | (c) 2014 totodunet, (http://totodu.net/) | Licensed under the MIT License (http://opensource.org/licenses/MIT) | Requires: jQuery 1.6.0+ */
(function(e){e.fn.scrollBottom=function(){if(e(this).is(document))return e(this).height()-e(this).scrollTop()-e(window).height();else return e(this).prop("scrollHeight")-e(this).prop("offsetHeight")-e(this).scrollTop()};e.fn.scrollRight=function(){if(e(this).is(document))return e(this).width()-e(this).scrollLeft()-e(window).width();else{return e(this).prop("scrollWidth")-e(this).prop("offsetWidth")-e(this).scrollLeft()}};e.fn.endless=function(t){var n=function(){};var r={direction:"down",append:n,prepend:n,n_append:n,n_prepend:n};var i=e.extend(r,t);var s=e(this).height();var o=e(this).width();var u;var a=e(this).scrollTop();var f;if(e(this).is(document)){f=e(this).scrollLeft();if(i.direction=="down"||i.direction=="up"||i.direction=="vertical"){if(e("body").height()<=e(window).height()){u='<div class="endless" style="height:'+(e(window).height()+2)+'px;">'+e("body").html()+"</div>";e("body").css("height",e(window).height()+2)}else u='<div class="endless">'+e("body").html()+"</div>"}else{if(e("body").width()<=e(window).width()){u='<div class="endless" style="width:'+(e(window).width()+2)+'px;">'+e("body").html()+"</div>";e("body").css("width",e(window).width()+2)}else u='<div class="endless">'+e("body").html()+"</div>"}e("body").html(u)}else{f=e(this).parent().scrollLeft();if(i.direction=="down"||i.direction=="up"||i.direction=="vertical"){if(e(this).offset().top+e(this).height()<=e(this).parent().height())u='<div class="endless" style="height:'+(e(this).parent().height()+2)+'px;">'+e(this).html()+"</div>";else u='<div class="endless">'+e(this).html()+"</div>"}else{if(e(this).offset().left+e(this).width()<=e(this).parent().width())u='<div class="endless" style="width:'+(e(this).parent().width()+2)+'px;">'+e(this).html()+"</div>";else u='<div class="endless">'+e(this).html()+"</div>"}e(this).html(u)}if(i.scrollbar&&(i.scrollbar=="enable"||i.scrollbar=="disable")){if(i.scrollbar=="disable"){if(i.direction=="down"||i.direction=="up"||i.direction=="vertical"){if(e(this).is(document))e("body").css("overflow-y","hidden");else e(this).css("overflow-y","hidden")}else{if(e(this).is(document))e("body").css("overflow-x","hidden");else e(this).parent().css("overflow-x","hidden")}}else{if(i.direction=="right"||i.direction=="left"||i.direction=="horizontal"){if(e(this).is(document))e("body").css("overflow-y","scroll");else e(this).css("overflow-y","scroll")}else{if(e(this).is(document))e("body").css("overflow-x","scroll");else e(this).parent().css("overflow-x","scroll")}}}var l=false;var c=false;if(i.direction=="down"){e(this).scroll(function(){if(a<e(this).scrollTop()){a=e(this).scrollTop();if(e(this).scrollBottom()==0){if(e(this).is(document))e("body").append(u);else e(this).append(u);e(this).scrollTop(a);l=true;i.append.call()}else if(e(this).scrollTop()>=s){if(e(this).is(document))e("body").html(u);else e(this).html(u);e(this).scrollTop(1);a=1;l=false;i.n_prepend.call()}}else if(l){if(e(this).scrollBottom()>=s){if(e(this).is(document)){e("body").html(u);e(this).scrollTop(s-e(window).height()-1);a=e(this).scrollTop()}else{e(this).html(u);e(this).scrollTop(s-1);a=s-1}l=false;i.n_prepend.call()}}})}else if(i.direction=="up"){e(this).scroll(function(){if(a>=e(this).scrollTop()){a=e(this).scrollTop();if(e(this).scrollTop()==0){if(e(this).is(document))e("body").prepend(u);else e(this).prepend(u);e(this).scrollTop(s);a=e(this).scrollTop();c=true;i.prepend.call()}else if(e(this).scrollBottom()>=s){if(e(this).is(document)){e("body").html(u);e(this).scrollTop(s-e(window).height()-1);a=e(this).scrollTop()}else{e(this).html(u);e(this).scrollTop(s-1);a=s-1}c=false;i.n_append.call()}}else if(c){if(e(this).scrollTop()>=s){if(e(this).is(document))e("body").html(u);else e(this).html(u);e(this).scrollTop(1);a=1;c=false;i.n_append.call()}}})}else if(i.direction=="vertical"){e(this).scroll(function(){if(a<e(this).scrollTop()){a=e(this).scrollTop();if(e(this).scrollBottom()==0){if(e(this).is(document))e("body").append(u);else e(this).append(u);e(this).scrollTop(a);l=true;i.append.call()}else if(e(this).scrollTop()>=s){if(e(this).is(document))e("body").html(u);else e(this).html(u);e(this).scrollTop(1);a=1;c=false;i.n_prepend.call()}}else if(a>=e(this).scrollTop()){a=e(this).scrollTop();if(e(this).scrollTop()==0){if(e(this).is(document))e("body").prepend(u);else e(this).prepend(u);e(this).scrollTop(s);a=e(this).scrollTop();c=true;i.prepend.call()}else if(e(this).scrollBottom()>=s){if(e(this).is(document)){e("body").html(u);e(this).scrollTop(s-e(window).height()-1);a=e(this).scrollTop()}else{e(this).html(u);e(this).scrollTop(s-1);a=s-1}l=false;i.n_append.call()}}})}if(i.direction=="right"){if(e(this).is(document)){e(this).scroll(function(){if(f<e(this).scrollLeft()){f=e(this).scrollLeft();if(e(this).scrollRight()==0){e("body").css("width",e("body").width()*2);e("body").children(".endless").css("float","left");e("body").append(u);e("body").children(".endless:nth-child(2)").css("float","right");e(this).scrollLeft(f);l=true;i.append.call()}else if(e(this).scrollLeft()>=o){e("body").html(u);e("body").css("width",e("body").width()/2);e(this).scrollLeft(1);f=1;l=false;i.n_prepend.call()}}else if(l){if(e(this).scrollRight()>=o){e("body").html(u);e("body").css("width",e("body").width()/2);e(this).scrollLeft(o-e(window).width()-1);f=e(this).scrollLeft();l=false;i.n_prepend.call()}}})}else{e(this).parent().scroll(function(){if(f<e(this).scrollLeft()){f=e(this).scrollLeft();if(e(this).scrollRight()==0){e(this).children().css("width",e(this).children().children(".endless").width()*2);e(this).children().children(".endless").css("float","left");e(this).children().append(u);e(this).children().children(".endless:nth-child(2)").css("float","right");e(this).scrollLeft(f);l=true;i.append.call()}else if(e(this).scrollLeft()>=o){e(this).children().html(u);e(this).children().css("width",e(this).children().width()/2);e(this).scrollLeft(1);f=1;l=false;i.n_prepend.call()}}else if(l){if(e(this).scrollRight()>=0){e(this).children().html(u);e(this).children().css("width",e(this).children().children(".endless").width());e(this).scrollLeft(o-1);f=o-1;l=false;i.n_prepend.call()}}})}}else if(i.direction=="left"){if(e(this).is(document)){e(this).scroll(function(){if(f>=e(this).scrollLeft()){f=e(this).scrollLeft();if(e(this).scrollLeft()==0){e("body").css("width",e("body").width()*2);e("body").children(".endless").css("float","right");e("body").prepend(u);e("body").children(".endless:first-child").css("float","left");e(this).scrollLeft(o);f=e(this).scrollLeft();c=true;i.prepend.call()}else if(e(this).scrollRight()>=o){e("body").html(u);e("body").css("width",e("body").width()/2);e(this).scrollLeft(o-e(window).width()-1);f=e(this).scrollLeft();c=false;i.n_append.call()}}else if(c){if(e(this).scrollLeft()>=o){e("body").html(u);e("body").css("width",e("body").width()/2);e(this).scrollLeft(1);f=1;c=false;i.n_append.call()}}})}else{e(this).parent().scroll(function(){if(f>=e(this).scrollLeft()){f=e(this).scrollLeft();if(e(this).scrollLeft()==0){e(this).children().css("width",e(this).children().width()*2);e(this).children().children(".endless").css("float","right");e(this).children().prepend(u);e(this).children().children(".endless:first-child").css("float","left");e(this).scrollLeft(o);f=e(this).scrollLeft();c=true;i.prepend.call()}else if(e(this).scrollRight()>=o){e(this).children().html(u);e(this).children().css("width",e(this).children().width()/2);e(this).scrollLeft(o-1);f=o-1;c=false;i.n_append.call()}}else if(c){if(e(this).scrollLeft()>=o){e(this).children().html(u);e(this).children().css("width",e(this).children().width()/2);e(this).scrollLeft(1);f=1;c=false;i.n_append.call()}}})}}else if(i.direction=="horizontal"){if(e(this).is(document)){e(this).scroll(function(){if(f<e(this).scrollLeft()){f=e(this).scrollLeft();if(e(this).scrollRight()==0){e("body").css("width",e("body").width()*2);e("body").children(".endless").css("float","left");e("body").append(u);e("body").children(".endless:nth-child(2)").css("float","right");e(this).scrollLeft(f);l=true;i.append.call()}else if(e(this).scrollLeft()>=o){e("body").html(u);e("body").css("width",e("body").width()/2);e(this).scrollLeft(1);f=1;c=false;i.n_prepend.call()}}else if(f>=e(this).scrollLeft()){f=e(this).scrollLeft();if(e(this).scrollLeft()==0){e("body").css("width",e("body").width()*2);e("body").children(".endless").css("float","right");e("body").prepend(u);e("body").children(".endless:first-child").css("float","left");e(this).scrollLeft(o);f=e(this).scrollLeft();c=true;i.prepend.call()}else if(e(this).scrollRight()>=o){e("body").html(u);e("body").css("width",e("body").width()/2);e(this).scrollLeft(o-e(window).width()-1);f=e(this).scrollLeft();l=false;i.n_append.call()}}})}else{e(this).parent().scroll(function(){if(f<e(this).scrollLeft()){f=e(this).scrollLeft();if(e(this).scrollRight()==0){e(this).children().css("width",e(this).children().width()*2);e(this).children().children(".endless").css("float","left");e(this).children().append(u);e(this).children().children(".endless:nth-child(2)").css("float","right");e(this).scrollLeft(f);l=true;i.append.call()}else if(e(this).scrollLeft()>=o){e(this).children().html(u);e(this).children().css("width",e(this).children().width()/2);e(this).scrollLeft(1);f=1;c=false;i.n_prepend.call()}}else if(f>=e(this).scrollLeft()){f=e(this).scrollLeft();if(e(this).scrollLeft()==0){e(this).children().css("width",e(this).children().width()*2);e(this).children().children(".endless").css("float","right");e(this).children().prepend(u);e(this).children().children(".endless:first-child").css("float","left");e(this).scrollLeft(o);f=e(this).scrollLeft();c=true;i.prepend.call()}else if(e(this).scrollRight()>=o){e(this).children().html(u);e(this).children().css("width",e(this).children().width()/2);e(this).scrollLeft(o-1);f=o-1;l=false;i.n_append.call()}}})}}return this}})(jQuery)